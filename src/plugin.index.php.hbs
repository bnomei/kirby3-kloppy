<?php
{{#if options.declareStrictTypes }}
declare(strict_types=1);

{{/if}}
{{#if options.includeComposerAutoloader }}
@include_once __DIR__ . '/vendor/autoload.php';
{{/if}}
{{#if options.addKirbyAutoloader }}
load([
    // '{{{ucfirst user }}}\\{{{ucfirst repository }}}\\FooBar' => 'src/FooBar.php'
], __DIR__);
{{/if}}
{{#if options.addClassAlias }}
class_alias('{{{ repository }}}\\FooBar', 'FooBar');
{{/if}}

Kirby::plugin('{{{toLowerCase user }}}/{{{toLowerCase repository }}}', [
    {{#if extensions.option }}
    'options' => [
        {{#each data}}
        '{{{ @key }}}' => {{{wrapValue this }}},
        {{/each }}
        // @PLOP_EXT_OPTION
    ],
    {{/if}}
    {{#if extensions.authchallenge}}

    'authChallenges' => [
        // @PLOP_EXT_AUTH_CHALLENGE
    ],
    {{/if}}
    {{#if extensions.api}}

    'api' => [
        {{#if extensions.apidata}}
        'data' => [
            // @PLOP_EXT_API_DATA
        ],
        {{/if}}
        {{#if extensions.apiroute}}
        'routes' => [
            // @PLOP_EXT_API_ROUTES
        ],
        {{/if}}
    ],
    {{/if}}
    {{#if extensions.blueprint}}

    'blueprints' => [
        // @PLOP_EXT_BLUEPRINT
    ],
    {{/if}}
    {{#if extensions.cachetype}}

    'cacheTypes' => [
        // @PLOP_EXT_CACHE_TYPE
    ],
    {{/if}}
    {{#if extensions.collection}}

    'collections' => [
        // @PLOP_EXT_COLLECTION
    ],
    {{/if}}
    {{#if extensions.collectionfilter}}

    'collectionFilters' => [
        // @PLOP_EXT_COLLECTION_FILTER
    ],
    {{/if}}
    {{#if extensions.collectionmethod}}

    'collectionMethods' => [
        // @PLOP_EXT_COLLECTION_METHOD
    ],
    {{/if}}
    {{#if extensions.controller}}

    'controllers' => [
        // @PLOP_EXT_CONTROLLER
    ],
    {{/if}}
    {{#if extensions.field}}

    'fields' => [
        // @PLOP_EXT_FIELDS
    ],
    {{/if}}
    {{#if extensions.fieldmethod}}

    'fieldMethods' => [
        // @PLOP_EXT_FIELD_METHOD
    ],
    {{/if}}
    {{#if extensions.filemethod}}

    'fileMethods' => [
        // @PLOP_EXT_FILE_METHOD
    ],
    {{/if}}
    {{#if extensions.filesmethod}}

    'filesMethods' => [
        // @PLOP_EXT_FILES_METHOD
    ],
    {{/if}}
    {{#if extensions.hook}}

    'hooks' => [
        // @PLOP_EXT_HOOK
    ],
    {{/if}}
    {{#if extensions.kirbytag}}

    'tags' => [
        // @PLOP_EXT_KIRBYTAG
    ],
    {{/if}}
    {{#if extensions.pagemethod}}

    'pageMethods' => [
        // @PLOP_EXT_PAGE_METHOD
    ],
    {{/if}}
    {{#if extensions.pagemodel}}

    'pageModels' => [
        // @PLOP_EXT_PAGE_MODEL
    ],
    {{/if}}
    {{#if extensions.pages}}

    'pages' => [
        // @PLOP_EXT_PAGES
    ],
    {{/if}}
    {{#if extensions.pagesmethods}}

    'pagesMethods' => [
        // @PLOP_EXT_PAGES_METHOD
    ],
    {{/if}}
    {{#if extensions.permission}}

    'permissions' => [
        // @PLOP_EXT_PERMISSION
    ],
    {{/if}}
    {{#if extensions.route}}

    'routes' => [
        // @PLOP_EXT_ROUTE
    ],
    {{/if}}
    {{#if extensions.section}}

    'sections' => [
        // @PLOP_EXT_SECTION
    ],
    {{/if}}
    {{#if extensions.sitemethod}}

    'siteMethods' => [
        // @PLOP_EXT_SITE_METHOD
    ],
    {{/if}}
    {{#if extensions.snippet}}

    'snippets' => [
        // @PLOP_EXT_SNIPPET
    ],
    {{/if}}
    {{#if extensions.template}}

    'templates' => [
        // @PLOP_EXT_TEMPLATE
    ],
    {{/if}}
    {{#if extensions.translation}}

    'translations' => [
        {{#each extensions.translation.languages }}
        '{{ code }}' => [
            // @PLOP_EXT_TRANSLATION_{{toUpperCase code }}
        ],
        {{/each}}
    ],
    {{/if}}
    {{#if extensions.usermethod}}

    'userMethods' => [
        // @PLOP_EXT_USER_METHOD
    ],
    {{/if}}
    {{#if extensions.usermodel}}

    'userModels' => [
        // @PLOP_EXT_USER_MODEL
    ],
    {{/if}}
    {{#if extensions.usersmethod}}

    'usersMethods' => [
        // @PLOP_EXT_USERS_METHOD
    ],
    {{/if}}
    {{#if extensions.validator}}

    'validators' => [
        // @PLOP_EXT_VALIDATOR
    ],
    {{/if}}
]);

